# Copy this file to .env and fill in your values before running docker-compose.

# ─────────────────────────────────────────────────────────
# Service identity
# ─────────────────────────────────────────────────────────
LOG_LEVEL=INFO

# ─────────────────────────────────────────────────────────
# RabbitMQ
# ─────────────────────────────────────────────────────────
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_USER=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_VHOST=/

# ─────────────────────────────────────────────────────────
# Exchange / Queue names
# ─────────────────────────────────────────────────────────
EXCHANGE_NAME=task_exchange
EXCHANGE_TYPE=direct
ROUTING_KEY=task.process
TASK_QUEUE=task_queue
DLQ_QUEUE=dead_letter_queue
DLQ_EXCHANGE=dlq_exchange

# ─────────────────────────────────────────────────────────
# Redis
# ─────────────────────────────────────────────────────────
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_TASK_TTL=86400       # seconds a processed task_id stays in Redis

# ─────────────────────────────────────────────────────────
# Retry policy
# ─────────────────────────────────────────────────────────
MAX_RETRIES=3              # number of retry attempts before DLQ
RETRY_BASE_DELAY=2.0       # actual delay = base ^ retry_count seconds
